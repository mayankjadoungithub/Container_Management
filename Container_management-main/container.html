<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://getbootstrap.com/docs/5.2/assets/css/docs.css"
      rel="stylesheet"
    />
    <title>Container Management</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  
  <body class="p-0 m-0 border-0 bd-example">
    <!-- Example Code -->

    <div class="bg-light border-bottom">
      <div class="container text-center">
        <div class="w100" href="#">
          <h1 class="text-center" style="padding: 10px;"><img style="height: 66px;width: 60px;" src="https://icon-library.com/images/docker-container-icon/docker-container-icon-19.jpg" />Container Management</h1>
        </div>
      </div>
    </div>

    <!-- End Example Code -->
    <div style="background-image: url('https://miro.medium.com/max/700/1*DKfSUf4B2-vIvDWAMsmQhA.jpeg');background-repeat: no-repeat;background-size: cover">
        
    <div style="margin-top: 7px; height: 60px;display: flex; justify-content: center; text-align: center;">
        <h1>You are one click away from launching your container(OS)</h1>
        <!-- <button type="button" class="btn btn-secondary" style="margin-left: 83%;">Docker CLI</button>
        <button type="button" class="btn btn-secondary" style="margin-left: 1%;">Docker TUI</button> -->
    </div>
    <script>            
        function cid() {
         var cn = document.getElementById("cname").value;   
         var ci = document.getElementById("cim").value;   
        //  console.log(cn+" "+ci);
         var xhttp = new XMLHttpRequest();
         xhttp.onreadystatechange = function() {
             if (this.readyState == 4 && this.status == 200) {
                  response = this.responseText
                 document.getElementById("lc").innerHTML ="<h2>Launch Container ID:" +response+"</h2>";
                
             }
         };
         xhttp.open("GET","http://localhost:3000/run?cname="+cn+"&cimage="+ci, true);
         xhttp.send();
     }</script>
    <div style="margin-left: 40%">
    <p><b>OS NAME : </b><input type="text" id="cname" style="width: 20%; margin-left: 76px;"></p>
    <p><b>[Container Image]# : </b>
    <select name="cimages" id="cim"  style="width:20%;">
        <option >ubuntu</option>
        <option >centos</option>
     
      </select>
      <button onclick="cid()" style="margin-left: 10px;background-color: green; color: white;">Launch Container</button>
    </p>
    </div>
    <script>            
      function rena() {
       var cename = document.getElementById("ename").value;   
       var cnname = document.getElementById("nname").value;  
       var hide = document.getElementById("ren");
       hide.style.display = "none";
      //  console.log(cename+" "+cnname);
       var xhttp = new XMLHttpRequest();
       xhttp.onreadystatechange = function() {
           if (this.readyState == 4 && this.status == 200) {
                response = this.responseText
               document.getElementById("lc").innerHTML ="<h2>"+response+"</h2>";
              
           }
       };
       xhttp.open("GET","http://localhost:3000/rename?cname="+cename+"&cimage="+cnname, true);
       xhttp.send();
   }</script>
    <div  style="border: 2px solid gray; height:13vh; width:99.4vw; padding: 15px; margin: 0%;" id="lc"></div>

    <div style="padding-left: 40% ;border: 2px solid gray; display: none;" id="ren">
      <p><b>EXISTING NAME : </b><input type="text" id="ename" style="width: 20%; margin-left: 76px;"></p>
      <p><b>NEW NAME: </b><input type="text" id="nname" style="width: 20%; margin-left: 116px;"></p>
   
        <button onclick="rena()" style="margin-left: 100px;background-color: green; color: white;">Rename Container</button>
      </p>
      </div>
     
        <script>            
      function ps() {
       var xhttp = new XMLHttpRequest();
       xhttp.onreadystatechange = function() {
           if (this.readyState == 4 && this.status == 200) {
               document.getElementById("ps").innerHTML = this.responseText;
           }
       };
       xhttp.open("GET", "http://localhost:3000/ps", true);
       xhttp.send();
     }
       function psa() {
       var xhttp = new XMLHttpRequest();
       xhttp.onreadystatechange = function() {
           if (this.readyState == 4 && this.status == 200) {
               document.getElementById("ps").innerHTML = this.responseText;
           }
       };
       xhttp.open("GET", "http://localhost:3000/psa", true);
       xhttp.send();
     }
     function psid() {
       var xhttp = new XMLHttpRequest();
       xhttp.onreadystatechange = function() {
           if (this.readyState == 4 && this.status == 200) {
               document.getElementById("ps").innerHTML = this.responseText;
           }
       };
       xhttp.open("GET", "http://localhost:3000/psid", true);
       xhttp.send();
     }
     function psr() {
       var xhttp = new XMLHttpRequest();
       xhttp.onreadystatechange = function() {
           if (this.readyState == 4 && this.status == 200) {
               document.getElementById("ps").innerHTML = this.responseText;
           }
       };
       xhttp.open("GET", "http://localhost:3000/psr", true);
       xhttp.send();
     }  
     function pss() {
       var xhttp = new XMLHttpRequest();
       xhttp.onreadystatechange = function() {
           if (this.readyState == 4 && this.status == 200) {
               document.getElementById("ps").innerHTML = this.responseText;
           }
       };
       xhttp.open("GET", "http://localhost:3000/pss", true);
       xhttp.send();
     } 
     function pssearch() {
         var ci = document.getElementById("cim").value;   
          console.log(ci);
         var xhttp = new XMLHttpRequest();
         xhttp.onreadystatechange = function() {
             if (this.readyState == 4 && this.status == 200) {
                  response = this.responseText
                 document.getElementById("ps").innerHTML ="<h2>image state:" +response+"</h2>";
                
             }
         };
         xhttp.open("GET","http://localhost:3000/search?cimage="+ci, true);
         xhttp.send();
     }    
     function rename(){
          form = document.getElementById("ren");
          form.style.display = "block";
     }
     function envcre(){
      document.location= "environment";
     }
   </script> 
     <div class="container" style="box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;">
        <div class="" style="width: 100%; height: 400px; ">
            <div class="row" style="padding: 50px;">
              <div class="col-6" style="text-align: left; padding-left: 120px;">
                    <div class="row" >

                    <div onclick="ps()" class="col-12"><button type="button" class="btn btn-primary btn-lg">Running container</button></div><hr><br/><br/>
                    <div onclick="psa()" class="col-12"><button type="button" class="btn btn-primary btn-lg">To see all Container</button></div><hr><br><br>
                    <div onclick="psid()" class="col-12"><button type="button" class="btn btn-primary btn-lg">To see only id of all container</button></div><hr><br><br>
                    <div onclick="pss()" class="col-12"><button type="button" class="btn btn-primary btn-lg">To stop all the container</button></div><hr><br><br>

                    </div>
                </div>
                <div class="col-6" style="text-align: left; padding-left: 150px;">
                    <div class="row">                 
                    <div onclick="psr()" class="col-12"><button type="button" class="btn btn-primary btn-lg">Remove all the container</button></div><hr><br><br>
                    <div onclick="pssearch()" class="col-12"><button type="button" class="btn btn-primary btn-lg">Search for Image</button></div><hr><br><br>
                    <div onclick="rename()" class="col-12"><button type="button" class="btn btn-primary btn-lg">Rename container name</button></div><hr><br><br>
                    <div onclick="envcre()" class="col-12"><button type="button" class="btn btn-primary btn-lg">Environment creation(comming soon)</button></div><hr><br><br>
                    </div>
                </div>
              </div>
        </div>

   <!-- <div class="border border-success p-4" style="--bs-border-opacity: .5;">This is 50% opacity success border</div> -->
  
      
    </div>
</div>


<div  id="ps" style="border: solid 2px gray ; width:99.4vw; height:40vh; padding: 40px; background-color: aliceblue; margin: 0%;"></div>

  </body>
</html>
